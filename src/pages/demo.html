<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MediBridge — animated demo</title>
<li><a href="intro.html">Launch MediBridge</a></li>

<style>
  :root{
    --accent: #19d4bf;
    --muted: rgba(255,255,255,0.06);
    --glass: rgba(255,255,255,0.03);
    --card-border: rgba(255,255,255,0.06);
    --text: #dfeff4;
  }

  html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{
    color:var(--text);
    background:
      radial-gradient(1200px 600px at 10% 10%, rgba(25,212,191,0.06), transparent 8%),
      radial-gradient(1000px 500px at 90% 70%, rgba(90,75,255,0.025), transparent 8%),
      linear-gradient(180deg,#081225 0%, #0f2230 50%, #0b1722 100%);
    overflow-y:auto;
  }

  /* Animated gradient sheen */
  .gradient-sheen {
    position:fixed; inset:0; pointer-events:none; mix-blend-mode:screen;
    background:
      linear-gradient(120deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0), rgba(255,255,255,0.02));
    animation: drift 12s linear infinite;
    opacity:0.8;
  }
  @keyframes drift {
    0%{transform:translateX(-15%) translateY(-5%) rotate(0deg)}
    50%{transform:translateX(15%) translateY(5%) rotate(3deg)}
    100%{transform:translateX(-15%) translateY(-5%) rotate(0deg)}
  }

  .container{max-width:1200px;margin:48px auto;padding:28px;display:grid;grid-template-columns:1fr 520px;gap:32px;align-items:start;}
  .brand {
    display:flex; gap:18px; align-items:flex-start;
    animation: slideInLeft .9s cubic-bezier(.2,.9,.3,1) both;
  }
  .logo{
    width:84px;height:84px;border-radius:14px;background:linear-gradient(180deg,#6ee7d4,#19d4bf);
    display:grid;place-items:center;color:#023; font-weight:700; font-size:22px; box-shadow:0 6px 18px rgba(0,0,0,0.5);
    transform:translateY(-6px);
  }
  @keyframes slideInLeft{ from{opacity:0; transform:translateX(-40px)} to{opacity:1; transform:none} }

  h1{font-size:48px;margin:8px 0 12px;letter-spacing:-0.02em}
  p.lead{color:rgba(255,255,255,0.75);max-width:56ch;line-height:1.55;margin:8px 0 18px;font-size:16px}

  .cta-row{display:flex;gap:14px;align-items:center}
  .btn {
    display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:14px;border:none;background:linear-gradient(90deg,var(--accent),#2be1c9);
    color:#00313a;font-weight:700;cursor:pointer;box-shadow:0 8px 30px rgba(21,76,83,0.18);transform:translateZ(0);transition:transform .18s ease, box-shadow .18s ease;
  }
  .btn:active{transform:translateY(1px) scale(.995)}
  .btn:hover{transform:translateY(-3px) scale(1.02); box-shadow:0 18px 40px rgba(21,76,83,0.22)}

  /* floating blobs */
  .blobs{position:fixed; inset:auto 0 10% 0; height:320px; pointer-events:none;}
  .blob{
    position:absolute;border-radius:50%;filter:blur(30px);opacity:.14;transform:translate3d(0,0,0);
    animation: floaty 8s ease-in-out infinite;
  }
  .blob.a{width:260px;height:260px;left:6%;bottom:6%;background:linear-gradient(180deg,#19d4bf,#0bd9c6); animation-delay:0s}
  .blob.b{width:320px;height:320px;right:14%;bottom:18%;background:linear-gradient(180deg,#5a4bff,#6e56ff); animation-delay:2s;opacity:.12}
  @keyframes floaty{
    0%{transform:translateY(0) translateX(0) rotate(0)}
    50%{transform:translateY(-18px) translateX(6px) rotate(3deg)}
    100%{transform:translateY(0) translateX(0) rotate(0)}
  }

  /* right-side card (map) */
  .map-card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;border:1px solid var(--card-border); padding:20px;
    box-shadow:0 10px 30px rgba(2,8,14,0.6); transform-style:preserve-3d;
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .map-inner{
    height:420px;border-radius:12px;overflow:hidden;background:#dfeff4 url('/mnt/data/e9ed4545-7fa8-4523-9a24-0c0596c46c35.png') center/cover no-repeat;
    position:relative;border:6px solid rgba(255,255,255,0.03);
    transition: transform .25s ease;
  }
  .map-overlay{
    position:absolute; inset:16px; border-radius:12px; pointer-events:none;
    background:linear-gradient(180deg, rgba(3,8,12,0), rgba(3,8,12,0.12));
  }

  /* small legend + search chip imitation */
  .search-chip{position:absolute;left:40px;top:22px;background:rgba(255,255,255,0.95);color:#042; padding:10px 16px;border-radius:12px;box-shadow:0 8px 30px rgba(2,8,14,0.2)}
  .legend{position:absolute;left:36px;top:86px;background:rgba(0,0,0,0.5);color:#fff;padding:10px;border-radius:10px}

  /* metrics */
  .metrics{display:flex;gap:16px;margin-top:30px}
  .metric{flex:1;padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,0.04); text-align:center;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}
  .metric .num{font-size:28px;font-weight:800}
  .metric .label{color:rgba(255,255,255,0.65);font-size:13px;margin-top:6px}

  /* counters animation trigger */
  .reveal {opacity:0; transform: translateY(10px); transition:all .6s cubic-bezier(.2,.9,.3,1) }
  .reveal.visible{opacity:1; transform:none}

  /* small responsive */
  @media (max-width:980px){
    .container{grid-template-columns:1fr; padding:18px}
    .map-card{order: -1}
    h1{font-size:36px}
    .map-inner{height:320px}
  }
</style>
</head>
<body>

<div class="gradient-sheen" aria-hidden="true"></div>
<div class="blobs" aria-hidden="true">
  <div class="blob a"></div><div class="blob b"></div>
</div>

<main class="container" role="main">
  <section>
    <div class="brand" aria-hidden="false">
      <div class="logo" title="MediBridge">MB</div>
      <div>
        <h1>MediBridge <span style="font-size:14px;color:rgba(255,255,255,0.45);font-weight:600">Unified Health Referral & Outreach</span></h1>
        <p class="lead">Connect rural clinics, hospitals and government health teams for faster, safer patient care. Create referrals, track status in real time, and monitor community health trends.</p>
        <div class="cta-row">
          <button class="btn" id="startBtn">Get started — Clinic</button>
          <a href="#" style="color:rgba(255,255,255,0.65);text-decoration:underline">Register a patient</a>
          <a href="#" style="color:rgba(255,255,255,0.65);text-decoration:underline">See referrals</a>
        </div>
      </div>
    </div>

    <div class="metrics reveal" id="metrics">
      <div class="metric">
        <div class="num" data-target="87">0</div>
        <div class="label">Clinics connected</div>
      </div>
      <div class="metric">
        <div class="num" data-target="3456">0</div>
        <div class="label">Referrals processed</div>
      </div>
      <div class="metric">
        <div class="num" data-target="1248">0</div>
        <div class="label">Patients served</div>
      </div>
      <div class="metric">
        <div class="num" data-target="42">0</div>
        <div class="label">Active hospitals</div>
      </div>
    </div>
  </section>

  <aside>
    <div class="map-card" id="mapCard" aria-label="Where we operate">
      <div class="map-inner" id="mapInner" role="img" aria-label="Map preview">
        <div class="map-overlay"></div>
        <div class="search-chip">Search name / state / village — <small style="opacity:.6">try "Nagpur"</small></div>
        <div class="legend">● Pharmacy &nbsp; ● Lab &nbsp; ● Ambulance</div>
      </div>
    </div>
    <p style="text-align:center;color:rgba(255,255,255,0.45);margin-top:12px">Interactive clinics & hospitals map (click markers)</p>
  </aside>
</main>

<script>
  // 1) Map card tilt + subtle parallax
  const card = document.getElementById('mapCard');
  const inner = document.getElementById('mapInner');
  let bounds;
  function calcBounds(){ bounds = card.getBoundingClientRect(); }
  calcBounds();
  window.addEventListener('resize', calcBounds);

  card.addEventListener('pointermove', (e) => {
    const x = (e.clientX - bounds.left) / bounds.width - 0.5;
    const y = (e.clientY - bounds.top) / bounds.height - 0.5;
    const rx = (-y) * 6; // rotateX
    const ry = (x) * 10; // rotateY
    card.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg) translateZ(0)`;
    inner.style.transform = `translateZ(30px) translateX(${x*8}px) translateY(${y*6}px) scale(1.01)`;
  });
  card.addEventListener('pointerleave', ()=> {
    card.style.transform = '';
    inner.style.transform = '';
  });

  // 2) Count-up when metrics enter viewport
  const nums = document.querySelectorAll('.num');
  const metrics = document.getElementById('metrics');
  const obs = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if(entry.isIntersecting){
        metrics.classList.add('visible');
        nums.forEach(n => startCount(n));
        obs.disconnect();
      }
    });
  }, {threshold:0.25});
  obs.observe(metrics);

  function startCount(el){
    const target = +el.dataset.target;
    let cur = 0;
    const step = Math.max(1, Math.floor(target / 120));
    const timer = setInterval(()=> {
      cur += step;
      if(cur >= target){ cur = target; clearInterval(timer); }
      el.textContent = cur.toLocaleString();
    }, 9);
  }

  // 3) CTA microinteraction — small confetti pulse
  const startBtn = document.getElementById('startBtn');
  startBtn.addEventListener('click', ()=> {
    startBtn.animate([
      { transform: 'scale(1)' }, { transform: 'scale(1.06)' }, { transform: 'scale(1)' }
    ], { duration: 420, easing:'ease-out' });
    // small visual hint (no libraries)
    const burst = document.createElement('span');
    burst.style.position='absolute';
    burst.style.width='10px'; burst.style.height='10px'; burst.style.borderRadius='50%';
    burst.style.left='50%'; burst.style.top='50%'; burst.style.transform='translate(-50%,-50%)';
    burst.style.background='radial-gradient(circle, #fff, var(--accent))';
    burst.style.opacity='0.95'; burst.style.pointerEvents='none';
    startBtn.appendChild(burst);
    setTimeout(()=> burst.remove(), 420);
  });

  // 4) small accessibility: keyboard focus styles
  startBtn.addEventListener('keydown', (e)=> {
    if(e.key === 'Enter'|| e.key === ' '){ startBtn.click(); }
  });

  // 5) Performance tip: lazy load heavy things (maps, markers). Example: do not init map until user clicks the map card.
  card.addEventListener('click', ()=> {
    if(!card.dataset.mapLoaded){
      card.dataset.mapLoaded = '1';
      const info = document.createElement('div');
      info.style.position='absolute'; info.style.left='12px'; info.style.bottom='12px';
      info.style.background='rgba(0,0,0,0.5)'; info.style.padding='8px 10px'; info.style.borderRadius='8px';
      info.textContent = 'Map loaded (demo) — replace this with your Leaflet init';
      inner.appendChild(info);
      // Here you would call your Leaflet / Mapbox init code and add markers.
    }
  });

  // Small nicety: reduce motion if user prefers reduced-motion
  const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
  if(mq.matches){
    document.querySelectorAll('.blob').forEach(b=>b.style.animation='none');
    document.querySelector('.gradient-sheen').style.animation='none';
  }
</script>
</body>
</html>
